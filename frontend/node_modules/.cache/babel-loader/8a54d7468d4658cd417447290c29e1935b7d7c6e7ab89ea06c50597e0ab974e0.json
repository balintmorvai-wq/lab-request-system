{"ast":null,"code":"var _jsxFileName = \"C:\\\\lab-request-system-v6.6\\\\frontend\\\\src\\\\components\\\\RequestForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport axios from 'axios';\nimport { AlertCircle, Calendar, MapPin, FileText, Save, Send, Tag, Paperclip, X, AlertTriangle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RequestForm() {\n  _s();\n  const {\n    user,\n    getAuthHeaders,\n    API_URL\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const isEditing = !!id;\n  const [testTypes, setTestTypes] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedTests, setSelectedTests] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [attachmentFile, setAttachmentFile] = useState(null);\n  const [existingAttachment, setExistingAttachment] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [deadlineWarning, setDeadlineWarning] = useState('');\n  const [originalStatus, setOriginalStatus] = useState(''); // v6.6 track original status\n\n  const [formData, setFormData] = useState({\n    sample_id: '',\n    sample_description: '',\n    urgency: 'normal',\n    sampling_location: '',\n    sampling_date: '',\n    deadline: '',\n    special_instructions: ''\n  });\n  useEffect(() => {\n    fetchTestTypes();\n    fetchCategories();\n    if (isEditing) {\n      loadRequest();\n    }\n  }, [id]);\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/categories`, {\n        headers: getAuthHeaders()\n      });\n      setCategories(response.data.filter(c => c.is_active));\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n  const loadRequest = async () => {\n    try {\n      var _req$sampling_date, _req$deadline;\n      const response = await axios.get(`${API_URL}/requests/${id}`, {\n        headers: getAuthHeaders()\n      });\n      const req = response.data;\n      setFormData({\n        sample_id: req.sample_id,\n        sample_description: req.sample_description,\n        urgency: req.urgency,\n        sampling_location: req.sampling_location,\n        sampling_date: ((_req$sampling_date = req.sampling_date) === null || _req$sampling_date === void 0 ? void 0 : _req$sampling_date.split('T')[0]) || '',\n        deadline: ((_req$deadline = req.deadline) === null || _req$deadline === void 0 ? void 0 : _req$deadline.split('T')[0]) || '',\n        special_instructions: req.special_instructions || ''\n      });\n      setSelectedTests(req.test_types.map(tt => tt.id));\n      setSelectedCategory(req.category_id || '');\n      setExistingAttachment(req.attachment_filename || '');\n      setOriginalStatus(req.status); // v6.6 track if it was rejected\n    } catch (error) {\n      console.error('Error loading request:', error);\n      alert('Hiba történt a kérés betöltése során');\n      navigate('/requests');\n    }\n  };\n\n  // Deadline warning check\n  useEffect(() => {\n    if (selectedTests.length > 0 && formData.sampling_date && formData.deadline) {\n      checkDeadlineWarning();\n    } else {\n      setDeadlineWarning('');\n    }\n  }, [selectedTests, formData.sampling_date, formData.deadline]);\n  const fetchTestTypes = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/test-types`, {\n        headers: getAuthHeaders()\n      });\n      setTestTypes(response.data.filter(tt => tt.is_active));\n    } catch (error) {\n      console.error('Error fetching test types:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const checkDeadlineWarning = () => {\n    const samplingDate = new Date(formData.sampling_date);\n    const deadline = new Date(formData.deadline);\n\n    // Get max turnaround time from selected tests\n    const selectedTestTypes = testTypes.filter(tt => selectedTests.includes(tt.id));\n    if (selectedTestTypes.length === 0) {\n      setDeadlineWarning('');\n      return;\n    }\n    const maxTurnaround = Math.max(...selectedTestTypes.map(tt => tt.turnaround_days || 7));\n    const expectedCompletion = new Date(samplingDate);\n    expectedCompletion.setDate(expectedCompletion.getDate() + maxTurnaround);\n    if (expectedCompletion > deadline) {\n      const daysDiff = Math.ceil((expectedCompletion - deadline) / (1000 * 60 * 60 * 24));\n      setDeadlineWarning(`A legkésőbbi vizsgálat átfutási ideje ${maxTurnaround} nap. ` + `Várható befejezés: ${expectedCompletion.toLocaleDateString('hu-HU')}. ` + `Ez ${daysDiff} nappal később van, mint a megadott határidő!`);\n    } else {\n      setDeadlineWarning('');\n    }\n  };\n  const toggleTestType = testTypeId => {\n    setSelectedTests(prev => prev.includes(testTypeId) ? prev.filter(id => id !== testTypeId) : [...prev, testTypeId]);\n  };\n  const calculateTotalPrice = () => {\n    return selectedTests.reduce((total, testId) => {\n      const testType = testTypes.find(tt => tt.id === testId);\n      return total + (testType ? testType.price : 0);\n    }, 0);\n  };\n  const handleSubmit = async (e, status = 'pending_approval') => {\n    e.preventDefault();\n\n    // Validations\n    if (!formData.sample_id || formData.sample_id.trim() === '') {\n      alert('Kérlek add meg a Minta azonosítót!');\n      return;\n    }\n    if (!selectedCategory) {\n      alert('Kérlek válassz kategóriát!');\n      return;\n    }\n    if (selectedTests.length === 0) {\n      alert('Kérlek válassz ki legalább egy vizsgálattípust!');\n      return;\n    }\n\n    // File size check\n    if (attachmentFile && attachmentFile.size > 20 * 1024 * 1024) {\n      alert('A fájl mérete nem lehet nagyobb 20 MB-nál!');\n      return;\n    }\n\n    // v6.0: Company admin skips approval → directly to submitted\n    // v6.6: If editing a rejected request, keep it rejected\n    let finalStatus = status;\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'company_admin' && status === 'pending_approval') {\n      finalStatus = 'submitted';\n    } else if (isEditing && originalStatus === 'rejected') {\n      // v6.6: Rejected requests stay rejected after editing\n      finalStatus = 'rejected';\n    }\n    try {\n      // Use FormData for v4.0 backend (file upload support)\n      const formDataObj = new FormData();\n      formDataObj.append('sample_id', formData.sample_id);\n      formDataObj.append('sample_description', formData.sample_description);\n      formDataObj.append('category_id', selectedCategory);\n      formDataObj.append('urgency', formData.urgency);\n      formDataObj.append('sampling_location', formData.sampling_location);\n      formDataObj.append('sampling_date', formData.sampling_date);\n      formDataObj.append('deadline', formData.deadline);\n      formDataObj.append('special_instructions', formData.special_instructions);\n      formDataObj.append('test_types', JSON.stringify(selectedTests));\n      formDataObj.append('status', finalStatus);\n\n      // Add attachment if selected\n      if (attachmentFile) {\n        formDataObj.append('attachment', attachmentFile);\n      }\n      if (isEditing) {\n        // Update existing request\n        await axios.put(`${API_URL}/requests/${id}`, formDataObj, {\n          headers: {\n            ...getAuthHeaders(),\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        alert(finalStatus === 'draft' ? 'Piszkozat frissítve!' : 'Kérés frissítve!');\n      } else {\n        // Create new request\n        await axios.post(`${API_URL}/requests`, formDataObj, {\n          headers: {\n            ...getAuthHeaders(),\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n\n        // v6.0: Different message for admin\n        if (finalStatus === 'submitted') {\n          alert('Laborkérés sikeresen beküldve az egyetemi adminnak!');\n        } else if (finalStatus === 'draft') {\n          alert('Piszkozat sikeresen mentve!');\n        } else {\n          alert('Laborkérés sikeresen beküldve jóváhagyásra!');\n        }\n      }\n      navigate('/requests');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error creating request:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Hiba történt a mentés során');\n    }\n  };\n  const saveDraft = e => {\n    handleSubmit(e, 'draft');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg text-gray-600\",\n        children: \"Bet\\xF6lt\\xE9s...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: isEditing ? 'Laborkérés szerkesztése' : 'Új laborkérés'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-1\",\n        children: isEditing ? 'Módosítsd az alábbi mezőket' : 'Töltsd ki az alábbi űrlapot a laborkérés beküldéséhez'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"w-5 h-5 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), \"Minta inform\\xE1ci\\xF3k\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Minta azonos\\xEDt\\xF3 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.sample_id,\n              onChange: e => setFormData({\n                ...formData,\n                sample_id: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n              required: true,\n              placeholder: \"pl. MOL-2024-003\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Kateg\\xF3ria *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Tag, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedCategory,\n                onChange: e => setSelectedCategory(e.target.value),\n                className: \"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"V\\xE1lassz kateg\\xF3ri\\xE1t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cat.id,\n                  children: cat.name\n                }, cat.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), selectedCategory && categories.find(c => c.id === parseInt(selectedCategory)) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: categories.find(c => c.id === parseInt(selectedCategory)).description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Minta le\\xEDr\\xE1sa *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.sample_description,\n            onChange: e => setFormData({\n              ...formData,\n              sample_description: e.target.value\n            }),\n            rows: \"3\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n            required: true,\n            placeholder: \"R\\xE9szletes le\\xEDr\\xE1s a mint\\xE1r\\xF3l...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"w-5 h-5 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), \"Priorit\\xE1s \\xE9s hat\\xE1rid\\u0151k\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"S\\xFCrg\\u0151ss\\xE9g *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.urgency,\n              onChange: e => setFormData({\n                ...formData,\n                urgency: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"normal\",\n                children: \"\\u26AA Normal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"urgent\",\n                children: \"\\uD83D\\uDFE1 S\\xFCrg\\u0151s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"critical\",\n                children: \"\\uD83D\\uDD34 Kritikus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Mintav\\xE9tel d\\xE1tuma *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: formData.sampling_date,\n              onChange: e => setFormData({\n                ...formData,\n                sampling_date: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Hat\\xE1rid\\u0151 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: formData.deadline,\n              onChange: e => setFormData({\n                ...formData,\n                deadline: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), deadlineWarning && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-amber-800\",\n            children: deadlineWarning\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-5 h-5 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), \"Mintav\\xE9tel r\\xE9szletei\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Mintav\\xE9tel helye *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.sampling_location,\n            onChange: e => setFormData({\n              ...formData,\n              sampling_location: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n            required: true,\n            placeholder: \"pl. Sz\\xE1zhalombatta, finom\\xEDt\\xF3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"w-5 h-5 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), \"Vizsg\\xE1latok\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), categories.filter(cat => cat.is_active).map(category => {\n          const categoryTests = testTypes.filter(tt => tt.category_id === category.id && tt.is_active);\n          if (categoryTests.length === 0) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900 mb-3 pb-2 border-b\",\n              style: {\n                borderColor: category.color,\n                color: category.color\n              },\n              children: category.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: categoryTests.map(testType => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedTests.includes(testType.id),\n                  onChange: () => toggleTestType(testType.id),\n                  className: \"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-3 flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: testType.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-semibold text-indigo-600\",\n                      children: [testType.price.toLocaleString('hu-HU'), \" Ft\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 25\n                  }, this), testType.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 mt-1\",\n                    children: testType.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 27\n                  }, this), testType.turnaround_days && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-400 mt-1\",\n                    children: [\"\\xC1tfut\\xE1si id\\u0151: \", testType.turnaround_days, \" nap\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this)]\n              }, testType.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, category.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this);\n        }), testTypes.filter(tt => !tt.category_id && tt.is_active).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border border-gray-200 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-600 mb-3 pb-2 border-b border-gray-300\",\n            children: \"Egy\\xE9b vizsg\\xE1latok\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: testTypes.filter(tt => !tt.category_id && tt.is_active).map(testType => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: selectedTests.includes(testType.id),\n                onChange: () => toggleTestType(testType.id),\n                className: \"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-3 flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-gray-900\",\n                    children: testType.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-semibold text-indigo-600\",\n                    children: [testType.price.toLocaleString('hu-HU'), \" Ft\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this), testType.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 mt-1\",\n                  children: testType.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 25\n                }, this), testType.turnaround_days && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400 mt-1\",\n                  children: [\"\\xC1tfut\\xE1si id\\u0151: \", testType.turnaround_days, \" nap\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 21\n              }, this)]\n            }, testType.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), selectedTests.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-3 bg-indigo-50 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-indigo-900\",\n            children: \"\\xD6sszesen:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold text-indigo-600\",\n            children: [calculateTotalPrice().toLocaleString('hu-HU'), \" Ft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"w-5 h-5 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), \"Speci\\xE1lis utas\\xEDt\\xE1sok\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Tov\\xE1bbi megjegyz\\xE9sek (opcion\\xE1lis)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.special_instructions,\n            onChange: e => setFormData({\n              ...formData,\n              special_instructions: e.target.value\n            }),\n            rows: \"4\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n            placeholder: \"Speci\\xE1lis kezel\\xE9si utas\\xEDt\\xE1sok, k\\xE9r\\xE9sek...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n            className: \"w-5 h-5 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this), \"Mell\\xE9klet\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"F\\xE1jl csatol\\xE1sa (opcion\\xE1lis, max 20 MB)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), existingAttachment && !attachmentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n              className: \"w-4 h-4 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-green-700\",\n              children: [\"Megl\\xE9v\\u0151: \", existingAttachment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                if (window.confirm('Törölni akarod a meglévő mellékletet?')) {\n                  setExistingAttachment('');\n                }\n              },\n              className: \"ml-auto text-red-600 hover:text-red-900\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-700\",\n                children: \"F\\xE1jl kiv\\xE1laszt\\xE1sa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                onChange: e => {\n                  const file = e.target.files[0];\n                  if (file && file.size > 20 * 1024 * 1024) {\n                    alert('A fájl mérete nem lehet nagyobb 20 MB-nál!');\n                    e.target.value = '';\n                    return;\n                  }\n                  setAttachmentFile(file);\n                },\n                className: \"hidden\",\n                accept: \".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), attachmentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 px-3 py-2 bg-indigo-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n                className: \"w-4 h-4 text-indigo-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-indigo-700\",\n                children: attachmentFile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-indigo-500\",\n                children: [\"(\", (attachmentFile.size / 1024 / 1024).toFixed(2), \" MB)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setAttachmentFile(null),\n                className: \"text-indigo-600 hover:text-indigo-900\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-2\",\n            children: \"T\\xE1mogatott: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG (max 20 MB)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sticky bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg p-4 z-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto flex items-center justify-end gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => navigate('/requests'),\n            className: \"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",\n            children: \"M\\xE9gse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: saveDraft,\n            className: \"flex items-center gap-2 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this), \"Ment\\xE9s piszkozatk\\xE9nt\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(Send, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 15\n            }, this), originalStatus === 'rejected' ? 'Mentés (Elutasított)' : (user === null || user === void 0 ? void 0 : user.role) === 'company_admin' ? 'Beküldés' : 'Beküldés jóváhagyásra']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this);\n}\n_s(RequestForm, \"FPZfo8gvRG2TmjqIkj9i2ilMsgU=\", false, function () {\n  return [useAuth, useNavigate, useParams];\n});\n_c = RequestForm;\nexport default RequestForm;\nvar _c;\n$RefreshReg$(_c, \"RequestForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","useAuth","axios","AlertCircle","Calendar","MapPin","FileText","Save","Send","Tag","Paperclip","X","AlertTriangle","jsxDEV","_jsxDEV","RequestForm","_s","user","getAuthHeaders","API_URL","navigate","id","isEditing","testTypes","setTestTypes","categories","setCategories","selectedTests","setSelectedTests","selectedCategory","setSelectedCategory","attachmentFile","setAttachmentFile","existingAttachment","setExistingAttachment","loading","setLoading","deadlineWarning","setDeadlineWarning","originalStatus","setOriginalStatus","formData","setFormData","sample_id","sample_description","urgency","sampling_location","sampling_date","deadline","special_instructions","fetchTestTypes","fetchCategories","loadRequest","response","get","headers","data","filter","c","is_active","error","console","_req$sampling_date","_req$deadline","req","split","test_types","map","tt","category_id","attachment_filename","status","alert","length","checkDeadlineWarning","samplingDate","Date","selectedTestTypes","includes","maxTurnaround","Math","max","turnaround_days","expectedCompletion","setDate","getDate","daysDiff","ceil","toLocaleDateString","toggleTestType","testTypeId","prev","calculateTotalPrice","reduce","total","testId","testType","find","price","handleSubmit","e","preventDefault","trim","size","finalStatus","role","formDataObj","FormData","append","JSON","stringify","put","post","_error$response","_error$response$data","message","saveDraft","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","placeholder","cat","name","parseInt","description","rows","category","categoryTests","style","borderColor","color","checked","toLocaleString","onClick","window","confirm","file","files","accept","toFixed","_c","$RefreshReg$"],"sources":["C:/lab-request-system-v6.6/frontend/src/components/RequestForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport axios from 'axios';\nimport { \n  AlertCircle, \n  Calendar, \n  MapPin, \n  FileText,\n  Save,\n  Send,\n  Tag,\n  Paperclip,\n  X,\n  AlertTriangle\n} from 'lucide-react';\n\nfunction RequestForm() {\n  const { user, getAuthHeaders, API_URL } = useAuth();\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const isEditing = !!id;\n  const [testTypes, setTestTypes] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedTests, setSelectedTests] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [attachmentFile, setAttachmentFile] = useState(null);\n  const [existingAttachment, setExistingAttachment] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [deadlineWarning, setDeadlineWarning] = useState('');\n  const [originalStatus, setOriginalStatus] = useState('');  // v6.6 track original status\n  \n  const [formData, setFormData] = useState({\n    sample_id: '',\n    sample_description: '',\n    urgency: 'normal',\n    sampling_location: '',\n    sampling_date: '',\n    deadline: '',\n    special_instructions: ''\n  });\n\n  useEffect(() => {\n    fetchTestTypes();\n    fetchCategories();\n    if (isEditing) {\n      loadRequest();\n    }\n  }, [id]);\n\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/categories`, {\n        headers: getAuthHeaders()\n      });\n      setCategories(response.data.filter(c => c.is_active));\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n\n  const loadRequest = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/requests/${id}`, {\n        headers: getAuthHeaders()\n      });\n      const req = response.data;\n      \n      setFormData({\n        sample_id: req.sample_id,\n        sample_description: req.sample_description,\n        urgency: req.urgency,\n        sampling_location: req.sampling_location,\n        sampling_date: req.sampling_date?.split('T')[0] || '',\n        deadline: req.deadline?.split('T')[0] || '',\n        special_instructions: req.special_instructions || ''\n      });\n      \n      setSelectedTests(req.test_types.map(tt => tt.id));\n      setSelectedCategory(req.category_id || '');\n      setExistingAttachment(req.attachment_filename || '');\n      setOriginalStatus(req.status);  // v6.6 track if it was rejected\n    } catch (error) {\n      console.error('Error loading request:', error);\n      alert('Hiba történt a kérés betöltése során');\n      navigate('/requests');\n    }\n  };\n\n  // Deadline warning check\n  useEffect(() => {\n    if (selectedTests.length > 0 && formData.sampling_date && formData.deadline) {\n      checkDeadlineWarning();\n    } else {\n      setDeadlineWarning('');\n    }\n  }, [selectedTests, formData.sampling_date, formData.deadline]);\n\n  const fetchTestTypes = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/test-types`, {\n        headers: getAuthHeaders()\n      });\n      setTestTypes(response.data.filter(tt => tt.is_active));\n    } catch (error) {\n      console.error('Error fetching test types:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const checkDeadlineWarning = () => {\n    const samplingDate = new Date(formData.sampling_date);\n    const deadline = new Date(formData.deadline);\n    \n    // Get max turnaround time from selected tests\n    const selectedTestTypes = testTypes.filter(tt => selectedTests.includes(tt.id));\n    if (selectedTestTypes.length === 0) {\n      setDeadlineWarning('');\n      return;\n    }\n    \n    const maxTurnaround = Math.max(...selectedTestTypes.map(tt => tt.turnaround_days || 7));\n    const expectedCompletion = new Date(samplingDate);\n    expectedCompletion.setDate(expectedCompletion.getDate() + maxTurnaround);\n    \n    if (expectedCompletion > deadline) {\n      const daysDiff = Math.ceil((expectedCompletion - deadline) / (1000 * 60 * 60 * 24));\n      setDeadlineWarning(\n        `A legkésőbbi vizsgálat átfutási ideje ${maxTurnaround} nap. ` +\n        `Várható befejezés: ${expectedCompletion.toLocaleDateString('hu-HU')}. ` +\n        `Ez ${daysDiff} nappal később van, mint a megadott határidő!`\n      );\n    } else {\n      setDeadlineWarning('');\n    }\n  };\n\n  const toggleTestType = (testTypeId) => {\n    setSelectedTests(prev => \n      prev.includes(testTypeId)\n        ? prev.filter(id => id !== testTypeId)\n        : [...prev, testTypeId]\n    );\n  };\n\n  const calculateTotalPrice = () => {\n    return selectedTests.reduce((total, testId) => {\n      const testType = testTypes.find(tt => tt.id === testId);\n      return total + (testType ? testType.price : 0);\n    }, 0);\n  };\n\n  const handleSubmit = async (e, status = 'pending_approval') => {\n    e.preventDefault();\n\n    // Validations\n    if (!formData.sample_id || formData.sample_id.trim() === '') {\n      alert('Kérlek add meg a Minta azonosítót!');\n      return;\n    }\n\n    if (!selectedCategory) {\n      alert('Kérlek válassz kategóriát!');\n      return;\n    }\n\n    if (selectedTests.length === 0) {\n      alert('Kérlek válassz ki legalább egy vizsgálattípust!');\n      return;\n    }\n\n    // File size check\n    if (attachmentFile && attachmentFile.size > 20 * 1024 * 1024) {\n      alert('A fájl mérete nem lehet nagyobb 20 MB-nál!');\n      return;\n    }\n\n    // v6.0: Company admin skips approval → directly to submitted\n    // v6.6: If editing a rejected request, keep it rejected\n    let finalStatus = status;\n    if (user?.role === 'company_admin' && status === 'pending_approval') {\n      finalStatus = 'submitted';\n    } else if (isEditing && originalStatus === 'rejected') {\n      // v6.6: Rejected requests stay rejected after editing\n      finalStatus = 'rejected';\n    }\n\n    try {\n      // Use FormData for v4.0 backend (file upload support)\n      const formDataObj = new FormData();\n      formDataObj.append('sample_id', formData.sample_id);\n      formDataObj.append('sample_description', formData.sample_description);\n      formDataObj.append('category_id', selectedCategory);\n      formDataObj.append('urgency', formData.urgency);\n      formDataObj.append('sampling_location', formData.sampling_location);\n      formDataObj.append('sampling_date', formData.sampling_date);\n      formDataObj.append('deadline', formData.deadline);\n      formDataObj.append('special_instructions', formData.special_instructions);\n      formDataObj.append('test_types', JSON.stringify(selectedTests));\n      formDataObj.append('status', finalStatus);\n\n      // Add attachment if selected\n      if (attachmentFile) {\n        formDataObj.append('attachment', attachmentFile);\n      }\n\n      if (isEditing) {\n        // Update existing request\n        await axios.put(`${API_URL}/requests/${id}`, formDataObj, {\n          headers: {\n            ...getAuthHeaders(),\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        alert(finalStatus === 'draft' ? 'Piszkozat frissítve!' : 'Kérés frissítve!');\n      } else {\n        // Create new request\n        await axios.post(`${API_URL}/requests`, formDataObj, {\n          headers: {\n            ...getAuthHeaders(),\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        \n        // v6.0: Different message for admin\n        if (finalStatus === 'submitted') {\n          alert('Laborkérés sikeresen beküldve az egyetemi adminnak!');\n        } else if (finalStatus === 'draft') {\n          alert('Piszkozat sikeresen mentve!');\n        } else {\n          alert('Laborkérés sikeresen beküldve jóváhagyásra!');\n        }\n      }\n\n      navigate('/requests');\n    } catch (error) {\n      console.error('Error creating request:', error);\n      alert(error.response?.data?.message || 'Hiba történt a mentés során');\n    }\n  };\n\n  const saveDraft = (e) => {\n    handleSubmit(e, 'draft');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-lg text-gray-600\">Betöltés...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900\">\n          {isEditing ? 'Laborkérés szerkesztése' : 'Új laborkérés'}\n        </h1>\n        <p className=\"text-gray-600 mt-1\">\n          {isEditing ? 'Módosítsd az alábbi mezőket' : 'Töltsd ki az alábbi űrlapot a laborkérés beküldéséhez'}\n        </p>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Basic Information */}\n        <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <FileText className=\"w-5 h-5 text-indigo-600\" />\n            Minta információk\n          </h2>\n\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Minta azonosító *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.sample_id}\n                onChange={(e) => setFormData({ ...formData, sample_id: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                required\n                placeholder=\"pl. MOL-2024-003\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Kategória *\n              </label>\n              <div className=\"relative\">\n                <Tag className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <select\n                  value={selectedCategory}\n                  onChange={(e) => setSelectedCategory(e.target.value)}\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                  required\n                >\n                  <option value=\"\">Válassz kategóriát</option>\n                  {categories.map((cat) => (\n                    <option key={cat.id} value={cat.id}>\n                      {cat.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {selectedCategory && categories.find(c => c.id === parseInt(selectedCategory)) && (\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {categories.find(c => c.id === parseInt(selectedCategory)).description}\n                </p>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Minta leírása *\n            </label>\n            <textarea\n              value={formData.sample_description}\n              onChange={(e) => setFormData({ ...formData, sample_description: e.target.value })}\n              rows=\"3\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              required\n              placeholder=\"Részletes leírás a mintáról...\"\n            />\n          </div>\n        </div>\n\n        {/* Priority and Deadlines */}\n        <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <AlertTriangle className=\"w-5 h-5 text-orange-600\" />\n            Prioritás és határidők\n          </h2>\n\n          <div className=\"grid md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Sürgősség *\n              </label>\n              <select\n                value={formData.urgency}\n                onChange={(e) => setFormData({ ...formData, urgency: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              >\n                <option value=\"normal\">⚪ Normal</option>\n                <option value=\"urgent\">🟡 Sürgős</option>\n                <option value=\"critical\">🔴 Kritikus</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Mintavétel dátuma *\n              </label>\n              <input\n                type=\"date\"\n                value={formData.sampling_date}\n                onChange={(e) => setFormData({ ...formData, sampling_date: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Határidő *\n              </label>\n              <input\n                type=\"date\"\n                value={formData.deadline}\n                onChange={(e) => setFormData({ ...formData, deadline: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                required\n              />\n            </div>\n          </div>\n\n          {deadlineWarning && (\n            <div className=\"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg\">\n              <AlertCircle className=\"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5\" />\n              <p className=\"text-sm text-amber-800\">{deadlineWarning}</p>\n            </div>\n          )}\n        </div>\n\n        {/* Location Details */}\n        <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-indigo-600\" />\n            Mintavétel részletei\n          </h2>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Mintavétel helye *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.sampling_location}\n              onChange={(e) => setFormData({ ...formData, sampling_location: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              required\n              placeholder=\"pl. Százhalombatta, finomító\"\n            />\n          </div>\n        </div>\n\n        {/* Test Types - v6.6 Kategória szerint csoportosítva (VISSZA) */}\n        <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <FileText className=\"w-5 h-5 text-indigo-600\" />\n            Vizsgálatok\n          </h2>\n\n          {/* Group by Category - v6.6 */}\n          {categories.filter(cat => cat.is_active).map((category) => {\n            const categoryTests = testTypes.filter(tt => tt.category_id === category.id && tt.is_active);\n            if (categoryTests.length === 0) return null;\n\n            return (\n              <div key={category.id} className=\"border border-gray-200 rounded-lg p-4\">\n                <h3 \n                  className=\"font-semibold text-gray-900 mb-3 pb-2 border-b\"\n                  style={{ borderColor: category.color, color: category.color }}\n                >\n                  {category.name}\n                </h3>\n                <div className=\"space-y-2\">\n                  {categoryTests.map((testType) => (\n                    <label\n                      key={testType.id}\n                      className=\"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedTests.includes(testType.id)}\n                        onChange={() => toggleTestType(testType.id)}\n                        className=\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n                      />\n                      <div className=\"ml-3 flex-1\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"font-medium text-gray-900\">{testType.name}</span>\n                          <span className=\"text-sm font-semibold text-indigo-600\">\n                            {testType.price.toLocaleString('hu-HU')} Ft\n                          </span>\n                        </div>\n                        {testType.description && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{testType.description}</p>\n                        )}\n                        {testType.turnaround_days && (\n                          <p className=\"text-xs text-gray-400 mt-1\">\n                            Átfutási idő: {testType.turnaround_days} nap\n                          </p>\n                        )}\n                      </div>\n                    </label>\n                  ))}\n                </div>\n              </div>\n            );\n          })}\n\n          {/* Uncategorized tests */}\n          {testTypes.filter(tt => !tt.category_id && tt.is_active).length > 0 && (\n            <div className=\"border border-gray-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-gray-600 mb-3 pb-2 border-b border-gray-300\">\n                Egyéb vizsgálatok\n              </h3>\n              <div className=\"space-y-2\">\n                {testTypes.filter(tt => !tt.category_id && tt.is_active).map((testType) => (\n                  <label\n                    key={testType.id}\n                    className=\"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors\"\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedTests.includes(testType.id)}\n                      onChange={() => toggleTestType(testType.id)}\n                      className=\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n                    />\n                    <div className=\"ml-3 flex-1\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"font-medium text-gray-900\">{testType.name}</span>\n                        <span className=\"text-sm font-semibold text-indigo-600\">\n                          {testType.price.toLocaleString('hu-HU')} Ft\n                        </span>\n                      </div>\n                      {testType.description && (\n                        <p className=\"text-sm text-gray-500 mt-1\">{testType.description}</p>\n                      )}\n                      {testType.turnaround_days && (\n                        <p className=\"text-xs text-gray-400 mt-1\">\n                          Átfutási idő: {testType.turnaround_days} nap\n                        </p>\n                      )}\n                    </div>\n                  </label>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {selectedTests.length > 0 && (\n            <div className=\"flex items-center justify-between p-3 bg-indigo-50 rounded-lg\">\n              <span className=\"text-sm font-medium text-indigo-900\">Összesen:</span>\n              <span className=\"text-lg font-bold text-indigo-600\">\n                {calculateTotalPrice().toLocaleString('hu-HU')} Ft\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Special Instructions */}\n        <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <FileText className=\"w-5 h-5 text-indigo-600\" />\n            Speciális utasítások\n          </h2>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              További megjegyzések (opcionális)\n            </label>\n            <textarea\n              value={formData.special_instructions}\n              onChange={(e) => setFormData({ ...formData, special_instructions: e.target.value })}\n              rows=\"4\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              placeholder=\"Speciális kezelési utasítások, kérések...\"\n            />\n          </div>\n        </div>\n\n        {/* File Attachment */}\n        <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <Paperclip className=\"w-5 h-5 text-indigo-600\" />\n            Melléklet\n          </h2>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Fájl csatolása (opcionális, max 20 MB)\n            </label>\n            \n            {existingAttachment && !attachmentFile && (\n              <div className=\"mb-3 flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg\">\n                <Paperclip className=\"w-4 h-4 text-green-600\" />\n                <span className=\"text-sm text-green-700\">Meglévő: {existingAttachment}</span>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    if (window.confirm('Törölni akarod a meglévő mellékletet?')) {\n                      setExistingAttachment('');\n                    }\n                  }}\n                  className=\"ml-auto text-red-600 hover:text-red-900\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </button>\n              </div>\n            )}\n\n            <div className=\"flex items-center gap-2\">\n              <label className=\"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-colors\">\n                <Paperclip className=\"w-5 h-5 text-gray-500\" />\n                <span className=\"text-sm text-gray-700\">Fájl kiválasztása</span>\n                <input\n                  type=\"file\"\n                  onChange={(e) => {\n                    const file = e.target.files[0];\n                    if (file && file.size > 20 * 1024 * 1024) {\n                      alert('A fájl mérete nem lehet nagyobb 20 MB-nál!');\n                      e.target.value = '';\n                      return;\n                    }\n                    setAttachmentFile(file);\n                  }}\n                  className=\"hidden\"\n                  accept=\".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png\"\n                />\n              </label>\n              \n              {attachmentFile && (\n                <div className=\"flex items-center gap-2 px-3 py-2 bg-indigo-50 rounded-lg\">\n                  <Paperclip className=\"w-4 h-4 text-indigo-600\" />\n                  <span className=\"text-sm text-indigo-700\">{attachmentFile.name}</span>\n                  <span className=\"text-xs text-indigo-500\">\n                    ({(attachmentFile.size / 1024 / 1024).toFixed(2)} MB)\n                  </span>\n                  <button\n                    type=\"button\"\n                    onClick={() => setAttachmentFile(null)}\n                    className=\"text-indigo-600 hover:text-indigo-900\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              )}\n            </div>\n            \n            <p className=\"text-xs text-gray-500 mt-2\">\n              Támogatott: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG (max 20 MB)\n            </p>\n          </div>\n        </div>\n\n        {/* v6.4 - Sticky Action Bar */}\n        <div className=\"sticky bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg p-4 z-10\">\n          <div className=\"max-w-7xl mx-auto flex items-center justify-end gap-3\">\n            <button\n              type=\"button\"\n              onClick={() => navigate('/requests')}\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              Mégse\n            </button>\n            \n            <button\n              type=\"button\"\n              onClick={saveDraft}\n              className=\"flex items-center gap-2 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              <Save className=\"w-5 h-5\" />\n              Mentés piszkozatként\n            </button>\n            \n            <button\n              type=\"submit\"\n              className=\"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\n            >\n              <Send className=\"w-5 h-5\" />\n              {originalStatus === 'rejected' \n                ? 'Mentés (Elutasított)' \n                : (user?.role === 'company_admin' ? 'Beküldés' : 'Beküldés jóváhagyásra')\n              }\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default RequestForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}